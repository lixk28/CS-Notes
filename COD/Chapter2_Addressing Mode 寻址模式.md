读取立即数高位指令

***lui***：Load upper immediate.

语法格式：

~~~shell
lui $reg, i
#表示将立即数 i 代表的16位二进制码设置为寄存器 $reg 的高16位，而低16位不变
~~~

lui 和 ori 经常一起使用构造32位常数

---

机器指令（Machine Instructions）是 CPU 能直接识别并执行的指令，它的表现形式是二进制编码。

机器指令的构成：

+ 操作码(Operation Code)：指明进行的何种操作，即指令的功能（如 ADD, I/O）
+ 操作数(Opeand)：指明参与运算的对象，以及运算结果所存放的位置等
+ 源操作数地址(Source Operand Reference)：参加操作的操作数的地址，**可能有一个或多个**。
+ 目的操作数地址(Destination Operand Reference)：保存操作结果的地址。
+ 下一条指令的地址(Next Instruction Reference)：指明下一条要运行的指令的位置，一般指令是按顺序依次执行的，所以绝大多数指令中并不显示地指明下一条指令的地址，也就是说，指令格式中并不包含这部分信息。 只有少数指令需要显示指明下一条指令的地址。

---

操作数的来源：

+ 存储器（存储器地址）
+ 寄存器（寄存器地址）
+ 输入输出端口（输入输出端口地址）

---

+ **形式地址**：指令中直接给出的地址编码

  <img src="E:\image\image-20201018183854064.png" alt="image-20201018183854064" style="zoom:50%;" />

+ **有效地址**：根据形式地址和寻址方式计算出来的操作数在内存单元中的地址

  <img src="E:\image\image-20201018183913330.png" alt="image-20201018183913330" style="zoom: 50%;" />

+ **寻址**：根据形式地址查找到操作数的过程

---

**寻址方式**：指令代码中地址字段的一部分，指明操作数的获取方式或操作数地址的计算方式

指令中每一个地址字段均有其寻址方式编码（或隐含寻址方式）

<img src="E:\image\image-20201018184159432.png" alt="image-20201018184159432" style="zoom:67%;" />

指令代码和寻址描述中有关缩写的约定：

+ OP：操作码
+ Des：目的操作数地址
+ Sur：源操作数地址
+ A 或 Add：形式地址（内存地址）
+ EA：有效地址
+ Mod：寻址方式
+ Rn：通用寄存器
+ Rx：编址寄存器
+ Rb：基址寄存器
+ SP：堆栈指针（寄存器）
+ Data/Operand：操作数
+ (X)：表示对象 X 的内容（值）
+ Imme. Data：立即数
+ XXH：16进制数XX

---

**立即寻址**：操作数直接在指令代码中给出

Operand = Imme. Data

<img src="E:\image\image-20201018185334393.png" alt="image-20201018185334393" style="zoom:50%;" />

---

**寄存器直接寻址**：操作数在寄存器中，指令地址字段给出寄存器的地址（编码）

EA = Rn, Operand = (Rn)

<img src="E:\image\image-20201018210141645.png" alt="image-20201018210141645" style="zoom:50%;" />

---

**存储器直接寻址**：操作数在存储器中，指令地址字段直接给出操作数在存储器中的地址

EA = A, Operand = (A)

<img src="E:\image\image-20201018210412218.png" alt="image-20201018210412218" style="zoom:50%;" />

---

**寄存器间接寻址**：操作数在存储器中，指令地址字段中给出的寄存器的内容是操作数在存储器中的地址

EA = (Rn), Operand = ((Rn))

<img src="E:\image\image-20201018210602714.png" alt="image-20201018210602714" style="zoom:50%;" />

---

**存储器间接寻址**：操作数在存储器中，指令地址字段中给出的存储器地址的单元内容是操作数在存储器中的地址

EA = (A1), Operand = ((A1))

<img src="E:\image\image-20201018210718073.png" alt="image-20201018210718073" style="zoom:50%;" />

---

**基址寻址**：操作数在存储器中，指令地址字段给出一基址寄存器和一形式地址，基址寄存器的内容与形式地址之和是操作数的内存地址

EA = (Rb) + A, Operand = ((Rb) + A)

<img src="E:\image\image-20201018210857822.png" alt="image-20201018210857822" style="zoom:50%;" />

---

**变址寻址**：操作数在存储器中，指令地址字段给出一变址寄存器和一形式地址，变址寄存器的内容与形式地址之和是操作数的内存地址

EA = (Rx) + A, Operand = ((Rx) + A)

<img src="E:\image\image-20201018211013939.png" alt="image-20201018211013939" style="zoom:50%;" />

---

**相对寻址**：基址寻址的特例，由程序计数器PC作为基址寄存器，指令中给出的形式地址作为位移量，二者之和是操作数的内存地址

EA = (PC) + A, Operand = ((PC) + A)

<img src="E:\image\image-20201018211213050.png" alt="image-20201018211213050" style="zoom:50%;" />

---

**堆栈寻址**

---

**页面寻址**

---







